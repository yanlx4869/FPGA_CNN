闂姹囨€荤殑鍗氬鍦板潃涓篬https://blog.csdn.net/weixin_44791964/article/details/107517428](https://blog.csdn.net/weixin_44791964/article/details/107517428)銆�

# 闂姹囨€�
## 1銆佷笅杞介棶棰�
### a銆佷唬鐮佷笅杞�
**闂細up涓伙紝鍙互缁欐垜鍙戜竴浠戒唬鐮佸悧锛屼唬鐮佸湪鍝噷涓嬭浇鍟婏紵 
绛旓細Github涓婄殑鍦板潃灏卞湪瑙嗛绠€浠嬮噷銆傚鍒朵竴涓嬪氨鑳借繘鍘讳笅杞戒簡銆�**

**闂細up涓伙紝涓轰粈涔堟垜涓嬭浇鐨勪唬鐮佹彁绀哄帇缂╁寘鎹熷潖锛�
绛旓細閲嶆柊鍘籊ithub涓嬭浇銆�**

**闂細up涓伙紝涓轰粈涔堟垜涓嬭浇鐨勪唬鐮佸拰浣犲湪瑙嗛浠ュ強鍗氬涓婄殑浠ｇ爜涓嶄竴鏍凤紵
绛旓細鎴戝父甯镐細瀵逛唬鐮佽繘琛屾洿鏂帮紝鏈€缁堜互瀹為檯鐨勪唬鐮佷负鍑嗐€�**

### b銆� 鏉冨€间笅杞�
**闂細up涓伙紝涓轰粈涔堟垜涓嬭浇鐨勪唬鐮侀噷闈紝model_data涓嬮潰娌℃湁.pth鎴栬€�.h5鏂囦欢锛� 
绛旓細鎴戜竴鑸細鎶婃潈鍊间笂浼犲埌Github鍜岀櫨搴︾綉鐩橈紝鍦℅ITHUB鐨凴EADME閲岄潰灏辫兘鎵惧埌銆�**

### c銆� 鏁版嵁闆嗕笅杞�
**闂細up涓伙紝XXXX鏁版嵁闆嗗湪鍝噷涓嬭浇鍟婏紵
绛旓細涓€鑸暟鎹泦鐨勪笅杞藉湴鍧€鎴戜細鏀惧湪README閲岄潰锛屽熀鏈笂閮芥湁锛屾病鏈夌殑璇濊鍙婃椂鑱旂郴鎴戞坊鍔狅紝鐩存帴鍙慻ithub鐨刬ssue鍗冲彲**銆�

## 2銆佺幆澧冮厤缃棶棰�
### a銆佺幇鍦ㄥ簱涓墍鐢ㄧ殑鐜
**pytorch浠ｇ爜瀵瑰簲鐨刾ytorch鐗堟湰涓�1.2锛屽崥瀹㈠湴鍧€瀵瑰簲**[https://blog.csdn.net/weixin_44791964/article/details/106037141](https://blog.csdn.net/weixin_44791964/article/details/106037141)銆�

**keras浠ｇ爜瀵瑰簲鐨則ensorflow鐗堟湰涓�1.13.2锛宬eras鐗堟湰鏄�2.1.5锛屽崥瀹㈠湴鍧€瀵瑰簲**[https://blog.csdn.net/weixin_44791964/article/details/104702142](https://blog.csdn.net/weixin_44791964/article/details/104702142)銆�

**tf2浠ｇ爜瀵瑰簲鐨則ensorflow鐗堟湰涓�2.2.0锛屾棤闇€瀹夎keras锛屽崥瀹㈠湴鍧€瀵瑰簲**[https://blog.csdn.net/weixin_44791964/article/details/109161493](https://blog.csdn.net/weixin_44791964/article/details/109161493)銆�

**闂細浣犵殑浠ｇ爜鏌愭煇鏌愮増鏈殑tensorflow鍜宲ytorch鑳界敤鍢涳紵
绛旓細鏈€濂芥寜鐓ф垜鎺ㄨ崘鐨勯厤缃紝閰嶇疆鏁欑▼涔熸湁锛佸叾瀹冪増鏈殑鎴戞病鏈夎瘯杩囷紒鍙兘鍑虹幇闂浣嗘槸涓€鑸棶棰樹笉澶с€備粎闇€瑕佹敼灏戦噺浠ｇ爜鍗冲彲銆�**

### b銆�30绯诲垪鏄惧崱鐜閰嶇疆
30绯绘樉鍗＄敱浜庢鏋舵洿鏂颁笉鍙娇鐢ㄤ笂杩扮幆澧冮厤缃暀绋嬨€�
褰撳墠鎴戝凡缁忔祴璇曠殑鍙互鐢ㄧ殑30鏄惧崱閰嶇疆濡備笅锛�
**pytorch浠ｇ爜瀵瑰簲鐨刾ytorch鐗堟湰涓�1.7.0锛宑uda涓�11.0锛宑udnn涓�8.0.5**銆�

**keras浠ｇ爜鏃犳硶鍦╳in10涓嬮厤缃甤uda11锛屽湪ubuntu涓嬪彲浠ョ櫨搴︽煡璇竴涓嬶紝閰嶇疆tensorflow鐗堟湰涓�1.15.4锛宬eras鐗堟湰鏄�2.1.5鎴栬€�2.3.1锛堝皯閲忓嚱鏁版帴鍙ｄ笉鍚岋紝浠ｇ爜鍙兘杩橀渶瑕佸皯閲忚皟鏁淬€傦級**

**tf2浠ｇ爜瀵瑰簲鐨則ensorflow鐗堟湰涓�2.4.0锛宑uda涓�11.0锛宑udnn涓�8.0.5**銆�

### c銆丟PU鍒╃敤闂涓庣幆澧冧娇鐢ㄩ棶棰�
**闂細涓轰粈涔堟垜瀹夎浜唗ensorflow-gpu浣嗘槸鍗存病鐢ㄥ埄鐢℅PU杩涜璁粌鍛紵
绛旓細纭tensorflow-gpu宸茬粡瑁呭ソ锛屽埄鐢╬ip list鏌ョ湅tensorflow鐗堟湰锛岀劧鍚庢煡鐪嬩换鍔＄鐞嗗櫒鎴栬€呭埄鐢╪vidia鍛戒护鐪嬬湅鏄惁浣跨敤浜唃pu杩涜璁粌锛屼换鍔＄鐞嗗櫒鐨勮瘽瑕佺湅鏄惧瓨浣跨敤鎯呭喌銆�**

**闂細up涓伙紝鎴戝ソ鍍忔病鏈夊湪鐢╣pu杩涜璁粌鍟婏紝鎬庝箞鐪嬫槸涓嶆槸鐢ㄤ簡GPU杩涜璁粌锛�
绛旓細鏌ョ湅鏄惁浣跨敤GPU杩涜璁粌涓€鑸娇鐢∟VIDIA鍦ㄥ懡浠よ鐨勬煡鐪嬪懡浠わ紝濡傛灉瑕佺湅浠诲姟绠＄悊鍣ㄧ殑璇濓紝璇风湅鎬ц兘閮ㄥ垎GPU鐨勬樉瀛樻槸鍚﹀埄鐢紝鎴栬€呮煡鐪嬩换鍔＄鐞嗗櫒鐨凜uda锛岃€岄潪Copy銆�**
![鍦ㄨ繖閲屾彃鍏ュ浘鐗囨弿杩癩(https://img-blog.csdnimg.cn/20201013234241524.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc5MTk2NA==,size_16,color_FFFFFF,t_70#pic_center)

**闂細up涓伙紝涓轰粈涔堟垜鎸夌収浣犵殑鐜閰嶇疆鍚庤繕鏄笉鑳戒娇鐢紵
绛旓細璇锋妸浣犵殑GPU銆丆UDA銆丆UDNN銆乀F鐗堟湰浠ュ強PYTORCH鐗堟湰B绔欑鑱婂憡璇夋垜銆�**

**闂細鍑虹幇濡備笅閿欒**
```python
Traceback (most recent call last):
  File "C:\Users\focus\Anaconda3\ana\envs\tensorflow-gpu\lib\site-packages\tensorflow\python\pywrap_tensorflow.py", line 58, in <module>
 from tensorflow.python.pywrap_tensorflow_internal import *
File "C:\Users\focus\Anaconda3\ana\envs\tensorflow-gpu\lib\site-packages\tensorflow\python\pywrap_tensorflow_internal.py", line 28, in <module>
pywrap_tensorflow_internal = swig_import_helper()
  File "C:\Users\focus\Anaconda3\ana\envs\tensorflow-gpu\lib\site-packages\tensorflow\python\pywrap_tensorflow_internal.py", line 24, in swig_import_helper
    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)
File "C:\Users\focus\Anaconda3\ana\envs\tensorflow-gpu\lib\imp.py", line 243, in load_modulereturn load_dynamic(name, filename, file)
File "C:\Users\focus\Anaconda3\ana\envs\tensorflow-gpu\lib\imp.py", line 343, in load_dynamic
    return _load(spec)
ImportError: DLL load failed: 鎵句笉鍒版寚瀹氱殑妯″潡銆�
```
**绛旓細濡傛灉娌￠噸鍚繃灏遍噸鍚竴涓嬶紝鍚﹀垯閲嶆柊鎸夌収姝ラ瀹夎锛岃繕鏃犳硶瑙ｅ喅鍒欐妸浣犵殑GPU銆丆UDA銆丆UDNN銆乀F鐗堟湰浠ュ強PYTORCH鐗堟湰绉佽亰鍛婅瘔鎴戙€�**

### d銆乶o module闂
**闂細涓轰粈涔堟彁绀鸿no module name utils.utils锛坣o module name nets.yolo銆乶o module name nets.ssd绛変竴绯诲垪闂锛夊晩锛�
绛旓細utils骞朵笉闇€瑕佺敤pip瑁咃紝瀹冨氨鍦ㄦ垜涓婁紶鐨勪粨搴撶殑鏍圭洰褰曪紝鍑虹幇杩欎釜闂鐨勫師鍥犳槸鏍圭洰褰曚笉瀵癸紝鏌ユ煡鐩稿鐩綍鍜屾牴鐩綍鐨勬蹇点€傛煡浜嗗熀鏈笂灏辨槑鐧戒簡銆�**

**闂細涓轰粈涔堟彁绀鸿no module name matplotlib锛坣o module name PIL锛宯o module name cv2绛夌瓑锛夛紵
绛旓細杩欎釜搴撴病瀹夎鎵撳紑鍛戒护琛屽畨瑁呭氨濂姐€俻ip install matplotlib**

**闂細涓轰粈涔堟垜宸茬粡鐢╬ip瑁呬簡opencv锛坧illow銆乵atplotlib绛夛級锛岃繕鏄彁绀簄o module name cv2锛�
绛旓細娌℃湁婵€娲荤幆澧冭锛岃婵€娲诲搴旂殑conda鐜杩涜瀹夎鎵嶅彲浠ユ甯镐娇鐢�**

**闂細涓轰粈涔堟彁绀鸿No module named 'torch' 锛�
绛旓細鍏跺疄鎴戜篃鐪熺殑寰堟兂鐭ラ亾涓轰粈涔堜細鏈夎繖涓棶棰樷€︹€﹁繖涓猵ytorch娌¤鏄粈涔堟儏鍐碉紵涓€鑸氨淇╂儏鍐碉紝涓€涓槸鐪熺殑娌¤锛岃繕鏈変竴涓槸瑁呭埌鍏跺畠鐜浜嗭紝褰撳墠婵€娲荤殑鐜涓嶆槸鑷繁瑁呯殑鐜銆�**

**闂細涓轰粈涔堟彁绀鸿No module named 'tensorflow' 锛�
绛旓細鍚屼笂銆�**

### e銆乧uda瀹夎澶辫触闂
涓€鑸琧uda瀹夎鍓嶉渶瑕佸畨瑁匳isual Studio锛岃涓�2017鐗堟湰鍗冲彲銆�

### f銆乁buntu绯荤粺闂
**鎵€鏈変唬鐮佸湪Ubuntu涓嬪彲浠ヤ娇鐢紝鎴戜袱涓郴缁熼兘璇曡繃銆�**

### g銆乂SCODE鎻愮ず閿欒鐨勯棶棰�
**闂細涓轰粈涔堝湪VSCODE閲岄潰鎻愮ず涓€澶у爢鐨勯敊璇晩锛�
绛旓細鎴戜篃鎻愮ず涓€澶у爢鐨勯敊璇紝浣嗘槸涓嶅奖鍝嶏紝鏄疺SCODE鐨勯棶棰橈紝濡傛灉涓嶆兂鐪嬮敊璇殑璇濆氨瑁匬ycharm銆�**

### h銆佷娇鐢╟pu杩涜璁粌涓庨娴嬬殑闂
**瀵逛簬keras鍜宼f2鐨勪唬鐮佽€岃█锛屽鏋滄兂鐢╟pu杩涜璁粌鍜岄娴嬶紝鐩存帴瑁卌pu鐗堟湰鐨則ensorflow灏卞彲浠ヤ簡銆�**

**瀵逛簬pytorch鐨勪唬鐮佽€岃█锛屽鏋滄兂鐢╟pu杩涜璁粌鍜岄娴嬶紝闇€瑕佸皢cuda=True淇敼鎴恈uda=False銆�**

### i銆乼qdm娌℃湁pos鍙傛暟闂
**闂細杩愯浠ｇ爜鎻愮ず'tqdm' object has no attribute 'pos'銆�
绛旓細閲嶈tqdm锛屾崲涓増鏈氨鍙互浜嗐€�**

### j銆佹彁绀篸ecode(鈥渦tf-8鈥�)鐨勯棶棰�
**鐢变簬h5py搴撶殑鏇存柊锛屽畨瑁呰繃绋嬩腑浼氳嚜鍔ㄥ畨瑁卙5py=3.0.0浠ヤ笂鐨勭増鏈紝浼氬鑷磀ecode("utf-8")鐨勯敊璇紒
鍚勪綅涓€瀹氳鍦ㄥ畨瑁呭畬tensorflow鍚庡埄鐢ㄥ懡浠よh5py=2.10.0锛�**
```
pip install h5py==2.10.0
```

### k銆佹彁绀篢ypeError: __array__() takes 1 positional argument but 2 were given閿欒
鍙互淇敼pillow鐗堟湰瑙ｅ喅銆�
```
pip install pillow==8.2.0
```

### l銆佸叾瀹冮棶棰�
**闂細涓轰粈涔堟彁绀篢ypeError: cat() got an unexpected keyword argument 'axis'锛孴raceback (most recent call last)锛孉ttributeError: 'Tensor' object has no attribute 'bool'锛�
绛旓細杩欐槸鐗堟湰闂锛屽缓璁娇鐢╰orch1.2浠ヤ笂鐗堟湰**
**鍏跺畠鏈夊緢澶氱█濂囧彜鎬殑闂锛屽緢澶氭槸鐗堟湰闂锛屽缓璁寜鐓ф垜鐨勮棰戞暀绋嬪畨瑁匥eras鍜宼ensorflow銆傛瘮濡傝鐨勬槸tensorflow2锛屽氨涓嶇敤闂垜璇翠负浠€涔堟垜娌℃硶杩愯Keras-yolo鍟ョ殑銆傞偅鏄繀鐒朵笉琛岀殑銆�**

## 3銆佺洰鏍囨娴嬪簱闂姹囨€伙紙浜鸿劯妫€娴嬪拰鍒嗙被搴撲篃鍙弬鑰冿級
### a銆乻hape涓嶅尮閰嶉棶棰�
#### 1锛夈€佽缁冩椂shape涓嶅尮閰嶉棶棰�
**闂細up涓伙紝涓轰粈涔堣繍琛宼rain.py浼氭彁绀簊hape涓嶅尮閰嶅晩锛�
绛旓細鍦╧eras鐜涓紝鍥犱负浣犺缁冪殑绉嶇被鍜屽師濮嬬殑绉嶇被涓嶅悓锛岀綉缁滅粨鏋勪細鍙樺寲锛屾墍浠ユ渶灏鹃儴鐨剆hape浼氭湁灏戦噺涓嶅尮閰嶃€�**

#### 2锛夈€侀娴嬫椂shape涓嶅尮閰嶉棶棰�
**闂細涓轰粈涔堟垜杩愯predict.py浼氭彁绀烘垜璇磗hape涓嶅尮閰嶅憖銆�
鍦≒ytorch閲岄潰鏄繖鏍风殑锛�**
![鍦ㄨ繖閲屾彃鍏ュ浘鐗囨弿杩癩(https://img-blog.csdnimg.cn/20200722171631901.png)
鍦↘eras閲岄潰鏄繖鏍风殑锛�
![鍦ㄨ繖閲屾彃鍏ュ浘鐗囨弿杩癩(https://img-blog.csdnimg.cn/20200722171523380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc5MTk2NA==,size_16,color_FFFFFF,t_70)
**绛旓細鍘熷洜涓昏鏈変花锛�
1銆佸湪ssd銆丗asterRCNN閲岄潰锛屽彲鑳芥槸train.py閲岄潰鐨刵um_classes娌℃敼銆�
2銆乵odel_path娌℃敼銆�
3銆乧lasses_path娌℃敼銆�
璇锋鏌ユ竻妤氫簡锛佺‘瀹氳嚜宸辨墍鐢ㄧ殑model_path鍜宑lasses_path鏄搴旂殑锛佽缁冪殑鏃跺€欑敤鍒扮殑num_classes鎴栬€卌lasses_path涔熼渶瑕佹鏌ワ紒**

### b銆佹樉瀛樹笉瓒抽棶棰�
**闂細涓轰粈涔堟垜杩愯train.py涓嬮潰鐨勫懡浠よ闂殑璐煎揩锛岃繕鎻愮ずOOM鍟ョ殑锛� 
绛旓細杩欐槸鍦╧eras涓嚭鐜扮殑锛岀垎鏄惧瓨浜嗭紝鍙互鏀瑰皬batch_size锛孲SD鐨勬樉瀛樺崰鐢ㄧ巼鏄渶灏忕殑锛屽缓璁敤SSD锛�
2G鏄惧瓨锛歋SD銆乊OLOV4-TINY
4G鏄惧瓨锛歒OLOV3
6G鏄惧瓨锛歒OLOV4銆丷etinanet銆丮2det銆丒fficientdet銆丗aster RCNN绛�
8G+鏄惧瓨锛氶殢渚块€夊惂銆�**
**闇€瑕佹敞鎰忕殑鏄紝鍙楀埌BatchNorm2d褰卞搷锛宐atch_size涓嶅彲涓�1锛岃嚦灏戜负2銆�**

**闂細涓轰粈涔堟彁绀� RuntimeError: CUDA out of memory. Tried to allocate 52.00 MiB (GPU 0; 15.90 GiB total capacity; 14.85 GiB already allocated; 51.88 MiB free; 15.07 GiB reserved in total by PyTorch)锛� 
绛旓細杩欐槸pytorch涓嚭鐜扮殑锛岀垎鏄惧瓨浜嗭紝鍚屼笂銆�**

**闂細涓轰粈涔堟垜鏄惧瓨閮芥病鍒╃敤锛屽氨鐩存帴鐖嗘樉瀛樹簡锛� 
绛旓細閮界垎鏄惧瓨浜嗭紝鑷劧灏变笉鍒╃敤浜嗭紝妯″瀷娌℃湁寮€濮嬭缁冦€�**
### c銆佽缁冮棶棰橈紙鍐荤粨璁粌锛孡OSS闂銆佽缁冩晥鏋滈棶棰樼瓑锛�
**闂細涓轰粈涔堣鍐荤粨璁粌鍜岃В鍐昏缁冨憖锛�
绛旓細杩欐槸杩佺Щ瀛︿範鐨勬€濇兂锛屽洜涓虹缁忕綉缁滀富骞茬壒寰佹彁鍙栭儴鍒嗘墍鎻愬彇鍒扮殑鐗瑰緛鏄€氱敤鐨勶紝鎴戜滑鍐荤粨璧锋潵璁粌鍙互鍔犲揩璁粌鏁堢巼锛屼篃鍙互闃叉鏉冨€艰鐮村潖銆�**
鍦ㄥ喕缁撻樁娈碉紝妯″瀷鐨勪富骞茶鍐荤粨浜嗭紝鐗瑰緛鎻愬彇缃戠粶涓嶅彂鐢熸敼鍙樸€傚崰鐢ㄧ殑鏄惧瓨杈冨皬锛屼粎瀵圭綉缁滆繘琛屽井璋冦€�
鍦ㄨВ鍐婚樁娈碉紝妯″瀷鐨勪富骞蹭笉琚喕缁撲簡锛岀壒寰佹彁鍙栫綉缁滀細鍙戠敓鏀瑰彉銆傚崰鐢ㄧ殑鏄惧瓨杈冨ぇ锛岀綉缁滄墍鏈夌殑鍙傛暟閮戒細鍙戠敓鏀瑰彉銆�

**闂細涓轰粈涔堟垜鐨勭綉缁滀笉鏀舵暃鍟婏紝LOSS鏄疿XXX銆�
绛旓細涓嶅悓缃戠粶鐨凩OSS涓嶅悓锛孡OSS鍙槸涓€涓弬鑰冩寚鏍囷紝鐢ㄤ簬鏌ョ湅缃戠粶鏄惁鏀舵暃锛岃€岄潪璇勪环缃戠粶濂藉潖锛屾垜鐨剏olo浠ｇ爜閮芥病鏈夊綊涓€鍖栵紝鎵€浠OSS鍊肩湅璧锋潵姣旇緝楂橈紝LOSS鐨勫€间笉閲嶈锛岄噸瑕佺殑鏄槸鍚﹀湪鍙樺皬锛岄娴嬫槸鍚︽湁鏁堟灉銆�**

**闂細涓轰粈涔堟垜鐨勮缁冩晥鏋滀笉濂斤紵棰勬祴浜嗘病鏈夋锛堟涓嶅噯锛夈€�
绛旓細**

鑰冭檻鍑犱釜闂锛�
1銆佺洰鏍囦俊鎭棶棰橈紝鏌ョ湅2007_train.txt鏂囦欢鏄惁鏈夌洰鏍囦俊鎭紝娌℃湁鐨勮瘽璇蜂慨鏀箆oc_annotation.py銆�
2銆佹暟鎹泦闂锛屽皬浜�500鐨勮嚜琛岃€冭檻澧炲姞鏁版嵁闆嗭紝鍚屾椂娴嬭瘯涓嶅悓鐨勬ā鍨嬶紝纭鏁版嵁闆嗘槸濂界殑銆�
3銆佹槸鍚﹁В鍐昏缁冿紝濡傛灉鏁版嵁闆嗗垎甯冧笌甯歌鐢婚潰宸窛杩囧ぇ闇€瑕佽繘涓€姝ヨВ鍐昏缁冿紝璋冩暣涓诲共锛屽姞寮虹壒寰佹彁鍙栬兘鍔涖€�
4銆佺綉缁滈棶棰橈紝姣斿SSD涓嶉€傚悎灏忕洰鏍囷紝鍥犱负鍏堥獙妗嗗浐瀹氫簡銆�
5銆佽缁冩椂闀块棶棰橈紝鏈変簺鍚屽鍙缁冧簡鍑犱唬琛ㄧず娌℃湁鏁堟灉锛屾寜榛樿鍙傛暟璁粌瀹屻€�
6銆佺‘璁よ嚜宸辨槸鍚︽寜鐓ф楠ゅ幓鍋氫簡锛屽鏋滄瘮濡倂oc_annotation.py閲岄潰鐨刢lasses鏄惁淇敼浜嗙瓑銆�
7銆佷笉鍚岀綉缁滅殑LOSS涓嶅悓锛孡OSS鍙槸涓€涓弬鑰冩寚鏍囷紝鐢ㄤ簬鏌ョ湅缃戠粶鏄惁鏀舵暃锛岃€岄潪璇勪环缃戠粶濂藉潖锛孡OSS鐨勫€间笉閲嶈锛岄噸瑕佺殑鏄槸鍚︽敹鏁涖€�

**闂細鎴戞€庝箞鍑虹幇浜唃bk浠€涔堢殑缂栫爜閿欒鍟婏細**
```python
UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 446: illegal multibyte sequence
```
**绛旓細鏍囩鍜岃矾寰勪笉瑕佷娇鐢ㄤ腑鏂囷紝濡傛灉涓€瀹氳浣跨敤涓枃锛岃娉ㄦ剰澶勭悊鐨勬椂鍊欑紪鐮佺殑闂锛屾敼鎴愭墦寮€鏂囦欢鐨別ncoding鏂瑰紡鏀逛负utf-8銆�**

**闂細鎴戠殑鍥剧墖鏄痻xx*xxx鐨勫垎杈ㄧ巼鐨勶紝鍙互鐢ㄥ悧锛�**
**绛旓細鍙互鐢紝浠ｇ爜閲岄潰浼氳嚜鍔ㄨ繘琛宺esize鎴栬€呮暟鎹寮恒€�**

**闂細鎬庝箞杩涜澶欸PU璁粌锛�
绛旓細pytorch鐨勫ぇ澶氭暟浠ｇ爜鍙互鐩存帴浣跨敤gpu璁粌锛宬eras鐨勮瘽鐩存帴鐧惧害灏卞ソ浜嗭紝瀹炵幇骞朵笉澶嶆潅锛屾垜娌℃湁澶氬崱娌℃硶璇︾粏娴嬭瘯锛岃繕闇€瑕佸悇浣嶅悓瀛﹁嚜宸卞姫鍔涗簡銆�**
### d銆佺伆搴﹀浘闂
**闂細鑳戒笉鑳借缁冪伆搴﹀浘锛堥娴嬬伆搴﹀浘锛夊晩锛�
绛旓細鎴戠殑澶у鏁板簱浼氬皢鐏板害鍥捐浆鍖栨垚RGB杩涜璁粌鍜岄娴嬶紝濡傛灉閬囧埌浠ｇ爜涓嶈兘璁粌鎴栬€呴娴嬬伆搴﹀浘鐨勬儏鍐碉紝鍙互灏濊瘯涓€涓嬪湪get_random_data閲岄潰灏咺mage.open鍚庣殑缁撴灉杞崲鎴怰GB锛岄娴嬬殑鏃跺€欎篃杩欐牱璇曡瘯銆傦紙浠呬緵鍙傝€冿級**

### e銆佹柇鐐圭画缁冮棶棰�
**闂細鎴戝凡缁忚缁冭繃鍑犱釜涓栦唬浜嗭紝鑳戒笉鑳戒粠杩欎釜鍩虹涓婄户缁紑濮嬭缁�
绛旓細鍙互锛屼綘鍦ㄨ缁冨墠锛屽拰杞藉叆棰勮缁冩潈閲嶄竴鏍疯浇鍏ヨ缁冭繃鐨勬潈閲嶅氨琛屼簡銆備竴鑸缁冨ソ鐨勬潈閲嶄細淇濆瓨鍦╨ogs鏂囦欢澶归噷闈紝灏唌odel_path淇敼鎴愪綘瑕佸紑濮嬬殑鏉冨€肩殑璺緞鍗冲彲銆�**

### f銆侀璁粌鏉冮噸鐨勯棶棰�
**闂細濡傛灉鎴戣璁粌鍏跺畠鐨勬暟鎹泦锛岄璁粌鏉冮噸瑕佹€庝箞鍔炲晩锛�**
**绛旓細鏁版嵁鐨勯璁粌鏉冮噸瀵逛笉鍚屾暟鎹泦鏄€氱敤鐨勶紝鍥犱负鐗瑰緛鏄€氱敤鐨勶紝棰勮缁冩潈閲嶅浜�99%鐨勬儏鍐甸兘蹇呴』瑕佺敤锛屼笉鐢ㄧ殑璇濇潈鍊煎お杩囬殢鏈猴紝鐗瑰緛鎻愬彇鏁堟灉涓嶆槑鏄撅紝缃戠粶璁粌鐨勭粨鏋滀篃涓嶄細濂姐€�**

**闂細up锛屾垜淇敼浜嗙綉缁滐紝棰勮缁冩潈閲嶈繕鑳界敤鍚楋紵
绛旓細淇敼浜嗕富骞茬殑璇濓紝濡傛灉涓嶆槸鐢ㄧ殑鐜版湁鐨勭綉缁滐紝鍩烘湰涓婇璁粌鏉冮噸鏄笉鑳界敤鐨勶紝瑕佷箞灏辫嚜宸卞垽鏂潈鍊奸噷鍗风Н鏍哥殑shape鐒跺悗鑷繁鍖归厤锛岃涔堝彧鑳借嚜宸遍璁粌鍘讳簡锛涗慨鏀逛簡鍚庡崐閮ㄥ垎鐨勮瘽锛屽墠鍗婇儴鍒嗙殑涓诲共閮ㄥ垎鐨勯璁粌鏉冮噸杩樻槸鍙互鐢ㄧ殑锛屽鏋滄槸pytorch浠ｇ爜鐨勮瘽锛岄渶瑕佽嚜宸变慨鏀逛竴涓嬭浇鍏ユ潈鍊肩殑鏂瑰紡锛屽垽鏂璼hape鍚庤浇鍏ワ紝濡傛灉鏄痥eras浠ｇ爜锛岀洿鎺y_name=True,skip_mismatch=True鍗冲彲銆�**
鏉冨€煎尮閰嶇殑鏂瑰紡鍙互鍙傝€冨涓嬶細
```python
# 鍔犲揩妯″瀷璁粌鐨勬晥鐜�
print('Loading weights into state dict...')
device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
model_dict = model.state_dict()
pretrained_dict = torch.load(model_path, map_location=device)
a = {}
for k, v in pretrained_dict.items():
    try:    
        if np.shape(model_dict[k]) ==  np.shape(v):
            a[k]=v
    except:
        pass
model_dict.update(a)
model.load_state_dict(model_dict)
print('Finished!')
```

**闂細鎴戣鎬庝箞涓嶄娇鐢ㄩ璁粌鏉冮噸鍟婏紵
绛旓細鎶婅浇鍏ラ璁粌鏉冮噸鐨勪唬鐮佹敞閲婁簡灏辫銆�**

**闂細涓轰粈涔堟垜涓嶄娇鐢ㄩ璁粌鏉冮噸鏁堟灉杩欎箞宸晩锛�
绛旓細鍥犱负闅忔満鍒濆鍖栫殑鏉冨€间笉濂斤紝鎻愬彇鐨勭壒寰佷笉濂斤紝涔熷氨瀵艰嚧浜嗘ā鍨嬭缁冪殑鏁堟灉涓嶅ソ锛寁oc07+12銆乧oco+voc07+12鏁堟灉閮戒笉涓€鏍凤紝棰勮缁冩潈閲嶈繕鏄潪甯搁噸瑕佺殑銆�**

### g銆佽棰戞娴嬮棶棰樹笌鎽勫儚澶存娴嬮棶棰�
**闂細鎬庝箞鐢ㄦ憚鍍忓ご妫€娴嬪憖锛�
绛旓細predict.py淇敼鍙傛暟鍙互杩涜鎽勫儚澶存娴嬶紝涔熸湁瑙嗛璇︾粏瑙ｉ噴浜嗘憚鍍忓ご妫€娴嬬殑鎬濊矾銆�**

**闂細鎬庝箞鐢ㄨ棰戞娴嬪憖锛�
绛旓細鍚屼笂**
### h銆佷粠0寮€濮嬭缁冮棶棰�
**闂細鎬庝箞鍦ㄦā鍨嬩笂浠�0寮€濮嬭缁冿紵
绛旓細鍦ㄧ畻鍔涗笉瓒充笌璋冨弬鑳藉姏涓嶈冻鐨勬儏鍐典笅浠�0寮€濮嬭缁冩鏃犳剰涔夈€傛ā鍨嬬壒寰佹彁鍙栬兘鍔涘湪闅忔満鍒濆鍖栧弬鏁扮殑鎯呭喌涓嬮潪甯稿樊銆傛病鏈夊ソ鐨勫弬鏁拌皟鑺傝兘鍔涘拰绠楀姏锛屾棤娉曚娇寰楃綉缁滄甯告敹鏁涖€�**
濡傛灉涓€瀹氳浠�0寮€濮嬶紝閭ｄ箞璁粌鐨勬椂鍊欒娉ㄦ剰鍑犵偣锛�
 - 涓嶈浇鍏ラ璁粌鏉冮噸銆� 
 - 涓嶈杩涜鍐荤粨璁粌锛屾敞閲婂喕缁撴ā鍨嬬殑浠ｇ爜銆�

**闂細涓轰粈涔堟垜涓嶄娇鐢ㄩ璁粌鏉冮噸鏁堟灉杩欎箞宸晩锛�
绛旓細鍥犱负闅忔満鍒濆鍖栫殑鏉冨€间笉濂斤紝鎻愬彇鐨勭壒寰佷笉濂斤紝涔熷氨瀵艰嚧浜嗘ā鍨嬭缁冪殑鏁堟灉涓嶅ソ锛寁oc07+12銆乧oco+voc07+12鏁堟灉閮戒笉涓€鏍凤紝棰勮缁冩潈閲嶈繕鏄潪甯搁噸瑕佺殑銆�**

### i銆佷繚瀛橀棶棰�
**闂細妫€娴嬪畬鐨勫浘鐗囨€庝箞淇濆瓨锛�
绛旓細涓€鑸洰鏍囨娴嬬敤鐨勬槸Image锛屾墍浠ユ煡璇竴涓婸IL搴撶殑Image濡備綍杩涜淇濆瓨銆傝缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

**闂細鎬庝箞鐢ㄨ棰戜繚瀛樺憖锛�
绛旓細璇︾粏鐪嬬湅predict.py鏂囦欢鐨勬敞閲娿€�**

### j銆侀亶鍘嗛棶棰�
**闂細濡備綍瀵逛竴涓枃浠跺す鐨勫浘鐗囪繘琛岄亶鍘嗭紵
绛旓細涓€鑸娇鐢╫s.listdir鍏堟壘鍑烘枃浠跺す閲岄潰鐨勬墍鏈夊浘鐗囷紝鐒跺悗鏍规嵁predict.py鏂囦欢閲岄潰鐨勬墽琛屾€濊矾妫€娴嬪浘鐗囧氨琛屼簡锛岃缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

**闂細濡備綍瀵逛竴涓枃浠跺す鐨勫浘鐗囪繘琛岄亶鍘嗭紵骞朵笖淇濆瓨銆�
绛旓細閬嶅巻鐨勮瘽涓€鑸娇鐢╫s.listdir鍏堟壘鍑烘枃浠跺す閲岄潰鐨勬墍鏈夊浘鐗囷紝鐒跺悗鏍规嵁predict.py鏂囦欢閲岄潰鐨勬墽琛屾€濊矾妫€娴嬪浘鐗囧氨琛屼簡銆備繚瀛樼殑璇濅竴鑸洰鏍囨娴嬬敤鐨勬槸Image锛屾墍浠ユ煡璇竴涓婸IL搴撶殑Image濡備綍杩涜淇濆瓨銆傚鏋滄湁浜涘簱鐢ㄧ殑鏄痗v2锛岄偅灏辨槸鏌ヤ竴涓媍v2鎬庝箞淇濆瓨鍥剧墖銆傝缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

### k銆佽矾寰勯棶棰橈紙No such file or directory锛�
**闂細鎴戞€庝箞鍑虹幇浜嗚繖鏍风殑閿欒鍛€锛�**
```python
FileNotFoundError: 銆怑rrno 2銆� No such file or directory
鈥︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€�
鈥︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€�
```
**绛旓細鍘绘鏌ヤ竴涓嬫枃浠跺す璺緞锛屾煡鐪嬫槸鍚︽湁瀵瑰簲鏂囦欢锛涘苟涓旀鏌ヤ竴涓�2007_train.txt锛屽叾涓枃浠惰矾寰勬槸鍚︽湁閿欍€�**
鍏充簬璺緞鏈夊嚑涓噸瑕佺殑鐐癸細
**鏂囦欢澶瑰悕绉颁腑涓€瀹氫笉瑕佹湁绌烘牸銆�
娉ㄦ剰鐩稿璺緞鍜岀粷瀵硅矾寰勩€�
澶氱櫨搴﹁矾寰勭浉鍏崇殑鐭ヨ瘑銆�**

**鎵€鏈夌殑璺緞闂鍩烘湰涓婇兘鏄牴鐩綍闂锛屽ソ濂芥煡涓€涓嬬浉瀵圭洰褰曠殑姒傚康锛�**
### l銆佸拰鍘熺増姣旇緝闂
**闂細浣犺繖涓唬鐮佸拰鍘熺増姣旀€庝箞鏍凤紝鍙互杈惧埌鍘熺増鐨勬晥鏋滀箞锛�
绛旓細鍩烘湰涓婂彲浠ヨ揪鍒帮紝鎴戦兘鐢╲oc鏁版嵁娴嬭繃锛屾垜娌℃湁濂芥樉鍗★紝娌℃湁鑳藉姏鍦╟oco涓婃祴璇曚笌璁粌銆�**

**闂細浣犳湁娌℃湁瀹炵幇yolov4鎵€鏈夌殑tricks锛屽拰鍘熺増宸窛澶氬皯锛�
绛旓細骞舵病鏈夊疄鐜板叏閮ㄧ殑鏀硅繘閮ㄥ垎锛岀敱浜嶻OLOV4浣跨敤鐨勬敼杩涘疄鍦ㄥお澶氫簡锛屽緢闅惧畬鍏ㄥ疄鐜颁笌鍒楀嚭鏉ワ紝杩欓噷鍙垪鍑烘潵浜嗕竴浜涙垜姣旇緝鎰熷叴瓒ｏ紝鑰屼笖闈炲父鏈夋晥鐨勬敼杩涖€傝鏂囦腑鎻愬埌鐨凷AM锛堟敞鎰忓姏鏈哄埗妯″潡锛夛紝浣滆€呰嚜宸辩殑婧愮爜涔熸病鏈変娇鐢ㄣ€傝繕鏈夊叾瀹冨緢澶氱殑tricks锛屼笉鏄墍鏈夌殑tricks閮芥湁鎻愬崌锛屾垜涔熸病娉曞疄鐜板叏閮ㄧ殑tricks銆傝嚦浜庡拰鍘熺増鐨勬瘮杈冿紝鎴戞病鏈夎兘鍔涜缁僣oco鏁版嵁闆嗭紝鏍规嵁浣跨敤杩囩殑鍚屽鍙嶅簲宸窛涓嶅ぇ銆�**

### m銆丗PS闂锛堟娴嬮€熷害闂锛�
**闂細浣犺繖涓狥PS鍙互鍒拌揪澶氬皯锛屽彲浠ュ埌 XX FPS涔堬紵
绛旓細FPS鍜屾満瀛愮殑閰嶇疆鏈夊叧锛岄厤缃珮灏卞揩锛岄厤缃綆灏辨參銆�**

**闂細涓轰粈涔堟垜鐢ㄦ湇鍔″櫒鍘绘祴璇晊olov4锛坥r others锛夌殑FPS鍙湁鍗佸嚑锛�
绛旓細妫€鏌ユ槸鍚︽纭畨瑁呬簡tensorflow-gpu鎴栬€卲ytorch鐨刧pu鐗堟湰锛屽鏋滃凡缁忔纭畨瑁咃紝鍙互鍘诲埄鐢╰ime.time()鐨勬柟娉曟煡鐪媎etect_image閲岄潰锛屽摢涓€娈典唬鐮佽€楁椂鏇撮暱锛堜笉浠呭彧鏈夌綉缁滆€楁椂闀匡紝鍏跺畠澶勭悊閮ㄥ垎涔熶細鑰楁椂锛屽缁樺浘绛夛級銆�**

**闂細涓轰粈涔堣鏂囦腑璇撮€熷害鍙互杈惧埌XX锛屼絾鏄繖閲屽嵈娌℃湁锛�
绛旓細妫€鏌ユ槸鍚︽纭畨瑁呬簡tensorflow-gpu鎴栬€卲ytorch鐨刧pu鐗堟湰锛屽鏋滃凡缁忔纭畨瑁咃紝鍙互鍘诲埄鐢╰ime.time()鐨勬柟娉曟煡鐪媎etect_image閲岄潰锛屽摢涓€娈典唬鐮佽€楁椂鏇撮暱锛堜笉浠呭彧鏈夌綉缁滆€楁椂闀匡紝鍏跺畠澶勭悊閮ㄥ垎涔熶細鑰楁椂锛屽缁樺浘绛夛級銆傛湁浜涜鏂囪繕浼氫娇鐢ㄥbatch杩涜棰勬祴锛屾垜骞舵病鏈夊幓瀹炵幇杩欎釜閮ㄥ垎銆�**

### n銆侀娴嬪浘鐗囦笉鏄剧ず闂
**闂細涓轰粈涔堜綘鐨勪唬鐮佸湪棰勬祴瀹屾垚鍚庝笉鏄剧ず鍥剧墖锛熷彧鏄湪鍛戒护琛屽憡璇夋垜鏈変粈涔堢洰鏍囥€�
绛旓細缁欑郴缁熷畨瑁呬竴涓浘鐗囨煡鐪嬪櫒灏辫浜嗐€�**

### o銆佺畻娉曡瘎浠烽棶棰橈紙鐩爣妫€娴嬬殑map銆丳R鏇茬嚎銆丷ecall銆丳recision绛夛級
**闂細鎬庝箞璁＄畻map锛�
绛旓細鐪媘ap瑙嗛锛岄兘涓€涓祦绋嬨€�**

**闂細璁＄畻map鐨勬椂鍊欙紝get_map.py閲岄潰鏈変竴涓狹INOVERLAP鏄粈涔堢敤鐨勶紝鏄痠ou鍚楋紵
绛旓細鏄痠ou锛屽畠鐨勪綔鐢ㄦ槸鍒ゆ柇棰勬祴妗嗗拰鐪熷疄妗嗙殑閲嶅悎鎴愬害锛屽鏋滈噸鍚堢▼搴﹀ぇ浜嶮INOVERLAP锛屽垯棰勬祴姝ｇ‘銆�**

**闂細涓轰粈涔坓et_map.py閲岄潰鐨剆elf.confidence锛坰elf.score锛夎璁剧疆鐨勯偅涔堝皬锛�
绛旓細鐪嬩竴涓媘ap鐨勮棰戠殑鍘熺悊閮ㄥ垎锛岃鐭ラ亾鎵€鏈夌殑缁撴灉鐒跺悗鍐嶈繘琛宲r鏇茬嚎鐨勭粯鍒躲€�**

**闂細鑳戒笉鑳借璇存€庝箞缁樺埗PR鏇茬嚎鍟ョ殑鍛€銆�
绛旓細鍙互鐪媘AP瑙嗛锛岀粨鏋滈噷闈㈡湁PR鏇茬嚎銆�**

**闂細鎬庝箞璁＄畻Recall銆丳recision鎸囨爣銆�
绛旓細杩欎咯鎸囨爣搴旇鏄浉瀵逛簬鐗瑰畾鐨勭疆淇″害鐨勶紝璁＄畻map鐨勬椂鍊欎篃浼氳幏寰椼€�**

### p銆乧oco鏁版嵁闆嗚缁冮棶棰�
**闂細鐩爣妫€娴嬫€庝箞璁粌COCO鏁版嵁闆嗗晩锛熴€�
绛旓細coco鏁版嵁璁粌鎵€闇€瑕佺殑txt鏂囦欢鍙互鍙傝€僸qwweee鐨剏olo3鐨勫簱锛屾牸寮忛兘鏄竴鏍风殑銆�**

### q銆佹ā鍨嬩紭鍖栵紙妯″瀷淇敼锛夐棶棰�
**闂細up锛孻OLO绯诲垪浣跨敤Focal LOSS鐨勪唬鐮佷綘鏈夊悧锛屾湁鎻愬崌鍚楋紵
绛旓細寰堝浜鸿瘯杩囷紝鎻愬崌鏁堟灉涔熶笉澶э紙鐢氳嚦鍙樼殑鏇碙ow锛夛紝瀹冭嚜宸辨湁鑷繁鐨勬璐熸牱鏈殑骞宠　鏂瑰紡銆�**

**闂細up锛屾垜淇敼浜嗙綉缁滐紝棰勮缁冩潈閲嶈繕鑳界敤鍚楋紵
绛旓細淇敼浜嗕富骞茬殑璇濓紝濡傛灉涓嶆槸鐢ㄧ殑鐜版湁鐨勭綉缁滐紝鍩烘湰涓婇璁粌鏉冮噸鏄笉鑳界敤鐨勶紝瑕佷箞灏辫嚜宸卞垽鏂潈鍊奸噷鍗风Н鏍哥殑shape鐒跺悗鑷繁鍖归厤锛岃涔堝彧鑳借嚜宸遍璁粌鍘讳簡锛涗慨鏀逛簡鍚庡崐閮ㄥ垎鐨勮瘽锛屽墠鍗婇儴鍒嗙殑涓诲共閮ㄥ垎鐨勯璁粌鏉冮噸杩樻槸鍙互鐢ㄧ殑锛屽鏋滄槸pytorch浠ｇ爜鐨勮瘽锛岄渶瑕佽嚜宸变慨鏀逛竴涓嬭浇鍏ユ潈鍊肩殑鏂瑰紡锛屽垽鏂璼hape鍚庤浇鍏ワ紝濡傛灉鏄痥eras浠ｇ爜锛岀洿鎺y_name=True,skip_mismatch=True鍗冲彲銆�**
鏉冨€煎尮閰嶇殑鏂瑰紡鍙互鍙傝€冨涓嬶細
```python
# 鍔犲揩妯″瀷璁粌鐨勬晥鐜�
print('Loading weights into state dict...')
device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
model_dict = model.state_dict()
pretrained_dict = torch.load(model_path, map_location=device)
a = {}
for k, v in pretrained_dict.items():
    try:    
        if np.shape(model_dict[k]) ==  np.shape(v):
            a[k]=v
    except:
        pass
model_dict.update(a)
model.load_state_dict(model_dict)
print('Finished!')
```

**闂細up锛屾€庝箞淇敼妯″瀷鍟婏紝鎴戞兂鍙戜釜灏忚鏂囷紒
绛旓細寤鸿鐪嬬湅yolov3鍜寉olov4鐨勫尯鍒紝鐒跺悗鐪嬬湅yolov4鐨勮鏂囷紝浣滀负涓€涓ぇ鍨嬭皟鍙傜幇鍦洪潪甯告湁鍙傝€冩剰涔夛紝浣跨敤浜嗗緢澶歵ricks銆傛垜鑳界粰鐨勫缓璁氨鏄鐪嬩竴浜涚粡鍏告ā鍨嬶紝鐒跺悗鎷嗚В閲岄潰鐨勪寒鐐圭粨鏋勫苟浣跨敤銆�**

### r銆侀儴缃查棶棰�
鎴戞病鏈夊叿浣撻儴缃插埌鎵嬫満绛夎澶囦笂杩囷紝鎵€浠ュ緢澶氶儴缃查棶棰樻垜骞朵笉浜嗚В鈥︹€�

## 4銆佽涔夊垎鍓插簱闂姹囨€�
### a銆乻hape涓嶅尮閰嶉棶棰�
#### 1锛夈€佽缁冩椂shape涓嶅尮閰嶉棶棰�
**闂細up涓伙紝涓轰粈涔堣繍琛宼rain.py浼氭彁绀簊hape涓嶅尮閰嶅晩锛�
绛旓細鍦╧eras鐜涓紝鍥犱负浣犺缁冪殑绉嶇被鍜屽師濮嬬殑绉嶇被涓嶅悓锛岀綉缁滅粨鏋勪細鍙樺寲锛屾墍浠ユ渶灏鹃儴鐨剆hape浼氭湁灏戦噺涓嶅尮閰嶃€�**

#### 2锛夈€侀娴嬫椂shape涓嶅尮閰嶉棶棰�
**闂細涓轰粈涔堟垜杩愯predict.py浼氭彁绀烘垜璇磗hape涓嶅尮閰嶅憖銆�
鍦≒ytorch閲岄潰鏄繖鏍风殑锛�**
![鍦ㄨ繖閲屾彃鍏ュ浘鐗囨弿杩癩(https://img-blog.csdnimg.cn/20200722171631901.png)
鍦↘eras閲岄潰鏄繖鏍风殑锛�
![鍦ㄨ繖閲屾彃鍏ュ浘鐗囨弿杩癩(https://img-blog.csdnimg.cn/20200722171523380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc5MTk2NA==,size_16,color_FFFFFF,t_70)
**绛旓細鍘熷洜涓昏鏈変簩锛�
1銆乼rain.py閲岄潰鐨刵um_classes娌℃敼銆�
2銆侀娴嬫椂num_classes娌℃敼銆�
璇锋鏌ユ竻妤氾紒璁粌鍜岄娴嬬殑鏃跺€欑敤鍒扮殑num_classes閮介渶瑕佹鏌ワ紒**

### b銆佹樉瀛樹笉瓒抽棶棰�
**闂細涓轰粈涔堟垜杩愯train.py涓嬮潰鐨勫懡浠よ闂殑璐煎揩锛岃繕鎻愮ずOOM鍟ョ殑锛� 
绛旓細杩欐槸鍦╧eras涓嚭鐜扮殑锛岀垎鏄惧瓨浜嗭紝鍙互鏀瑰皬batch_size銆�**

**闇€瑕佹敞鎰忕殑鏄紝鍙楀埌BatchNorm2d褰卞搷锛宐atch_size涓嶅彲涓�1锛岃嚦灏戜负2銆�**

**闂細涓轰粈涔堟彁绀� RuntimeError: CUDA out of memory. Tried to allocate 52.00 MiB (GPU 0; 15.90 GiB total capacity; 14.85 GiB already allocated; 51.88 MiB free; 15.07 GiB reserved in total by PyTorch)锛� 
绛旓細杩欐槸pytorch涓嚭鐜扮殑锛岀垎鏄惧瓨浜嗭紝鍚屼笂銆�**

**闂細涓轰粈涔堟垜鏄惧瓨閮芥病鍒╃敤锛屽氨鐩存帴鐖嗘樉瀛樹簡锛� 
绛旓細閮界垎鏄惧瓨浜嗭紝鑷劧灏变笉鍒╃敤浜嗭紝妯″瀷娌℃湁寮€濮嬭缁冦€�**

### c銆佽缁冮棶棰橈紙鍐荤粨璁粌锛孡OSS闂銆佽缁冩晥鏋滈棶棰樼瓑锛�
**闂細涓轰粈涔堣鍐荤粨璁粌鍜岃В鍐昏缁冨憖锛�
绛旓細杩欐槸杩佺Щ瀛︿範鐨勬€濇兂锛屽洜涓虹缁忕綉缁滀富骞茬壒寰佹彁鍙栭儴鍒嗘墍鎻愬彇鍒扮殑鐗瑰緛鏄€氱敤鐨勶紝鎴戜滑鍐荤粨璧锋潵璁粌鍙互鍔犲揩璁粌鏁堢巼锛屼篃鍙互闃叉鏉冨€艰鐮村潖銆�**
**鍦ㄥ喕缁撻樁娈碉紝妯″瀷鐨勪富骞茶鍐荤粨浜嗭紝鐗瑰緛鎻愬彇缃戠粶涓嶅彂鐢熸敼鍙樸€傚崰鐢ㄧ殑鏄惧瓨杈冨皬锛屼粎瀵圭綉缁滆繘琛屽井璋冦€�**
**鍦ㄨВ鍐婚樁娈碉紝妯″瀷鐨勪富骞蹭笉琚喕缁撲簡锛岀壒寰佹彁鍙栫綉缁滀細鍙戠敓鏀瑰彉銆傚崰鐢ㄧ殑鏄惧瓨杈冨ぇ锛岀綉缁滄墍鏈夌殑鍙傛暟閮戒細鍙戠敓鏀瑰彉銆�**

**闂細涓轰粈涔堟垜鐨勭綉缁滀笉鏀舵暃鍟婏紝LOSS鏄疿XXX銆�
绛旓細涓嶅悓缃戠粶鐨凩OSS涓嶅悓锛孡OSS鍙槸涓€涓弬鑰冩寚鏍囷紝鐢ㄤ簬鏌ョ湅缃戠粶鏄惁鏀舵暃锛岃€岄潪璇勪环缃戠粶濂藉潖锛屾垜鐨剏olo浠ｇ爜閮芥病鏈夊綊涓€鍖栵紝鎵€浠OSS鍊肩湅璧锋潵姣旇緝楂橈紝LOSS鐨勫€间笉閲嶈锛岄噸瑕佺殑鏄槸鍚﹀湪鍙樺皬锛岄娴嬫槸鍚︽湁鏁堟灉銆�**

**闂細涓轰粈涔堟垜鐨勮缁冩晥鏋滀笉濂斤紵棰勬祴浜嗘病鏈夌洰鏍囷紝缁撴灉鏄竴鐗囬粦銆�
绛旓細**
**鑰冭檻鍑犱釜闂锛�
1銆佹暟鎹泦闂锛岃繖鏄渶閲嶈鐨勯棶棰樸€傚皬浜�500鐨勮嚜琛岃€冭檻澧炲姞鏁版嵁闆嗭紱涓€瀹氳妫€鏌ユ暟鎹泦鐨勬爣绛撅紝瑙嗛涓缁嗚В鏋愪簡VOC鏁版嵁闆嗙殑鏍煎紡锛屼絾骞朵笉鏄湁杈撳叆鍥剧墖鏈夎緭鍑烘爣绛惧嵆鍙紝杩橀渶瑕佺‘璁ゆ爣绛剧殑姣忎竴涓儚绱犲€兼槸鍚︿负瀹冨搴旂殑绉嶇被銆傚緢澶氬悓瀛︾殑鏍囩鏍煎紡涓嶅锛屾渶甯歌鐨勯敊璇牸寮忓氨鏄爣绛剧殑鑳屾櫙涓洪粦锛岀洰鏍囦负鐧斤紝姝ゆ椂鐩爣鐨勫儚绱犵偣鍊间负255锛屾棤娉曟甯歌缁冿紝鐩爣闇€瑕佷负1鎵嶈銆�
2銆佹槸鍚﹁В鍐昏缁冿紝濡傛灉鏁版嵁闆嗗垎甯冧笌甯歌鐢婚潰宸窛杩囧ぇ闇€瑕佽繘涓€姝ヨВ鍐昏缁冿紝璋冩暣涓诲共锛屽姞寮虹壒寰佹彁鍙栬兘鍔涖€�
3銆佺綉缁滈棶棰橈紝鍙互灏濊瘯涓嶅悓鐨勭綉缁溿€�
4銆佽缁冩椂闀块棶棰橈紝鏈変簺鍚屽鍙缁冧簡鍑犱唬琛ㄧず娌℃湁鏁堟灉锛屾寜榛樿鍙傛暟璁粌瀹屻€�
5銆佺‘璁よ嚜宸辨槸鍚︽寜鐓ф楠ゅ幓鍋氫簡銆�
6銆佷笉鍚岀綉缁滅殑LOSS涓嶅悓锛孡OSS鍙槸涓€涓弬鑰冩寚鏍囷紝鐢ㄤ簬鏌ョ湅缃戠粶鏄惁鏀舵暃锛岃€岄潪璇勪环缃戠粶濂藉潖锛孡OSS鐨勫€间笉閲嶈锛岄噸瑕佺殑鏄槸鍚︽敹鏁涖€�**



**闂細涓轰粈涔堟垜鐨勮缁冩晥鏋滀笉濂斤紵瀵瑰皬鐩爣棰勬祴涓嶅噯纭€�
绛旓細瀵逛簬deeplab鍜宲spnet鑰岃█锛屽彲浠ヤ慨鏀逛竴涓媎ownsample_factor锛屽綋downsample_factor涓�16鐨勬椂鍊欎笅閲囨牱鍊嶆暟杩囧锛屾晥鏋滀笉澶ソ锛屽彲浠ヤ慨鏀逛负8銆�**

**闂細鎴戞€庝箞鍑虹幇浜唃bk浠€涔堢殑缂栫爜閿欒鍟婏細**
```python
UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 446: illegal multibyte sequence
```
**绛旓細鏍囩鍜岃矾寰勪笉瑕佷娇鐢ㄤ腑鏂囷紝濡傛灉涓€瀹氳浣跨敤涓枃锛岃娉ㄦ剰澶勭悊鐨勬椂鍊欑紪鐮佺殑闂锛屾敼鎴愭墦寮€鏂囦欢鐨別ncoding鏂瑰紡鏀逛负utf-8銆�**

**闂細鎴戠殑鍥剧墖鏄痻xx*xxx鐨勫垎杈ㄧ巼鐨勶紝鍙互鐢ㄥ悧锛�**
**绛旓細鍙互鐢紝浠ｇ爜閲岄潰浼氳嚜鍔ㄨ繘琛宺esize鎴栬€呮暟鎹寮恒€�**

**闂細鎬庝箞杩涜澶欸PU璁粌锛�
绛旓細pytorch鐨勫ぇ澶氭暟浠ｇ爜鍙互鐩存帴浣跨敤gpu璁粌锛宬eras鐨勮瘽鐩存帴鐧惧害灏卞ソ浜嗭紝瀹炵幇骞朵笉澶嶆潅锛屾垜娌℃湁澶氬崱娌℃硶璇︾粏娴嬭瘯锛岃繕闇€瑕佸悇浣嶅悓瀛﹁嚜宸卞姫鍔涗簡銆�**

### d銆佺伆搴﹀浘闂
**闂細鑳戒笉鑳借缁冪伆搴﹀浘锛堥娴嬬伆搴﹀浘锛夊晩锛�
绛旓細鎴戠殑澶у鏁板簱浼氬皢鐏板害鍥捐浆鍖栨垚RGB杩涜璁粌鍜岄娴嬶紝濡傛灉閬囧埌浠ｇ爜涓嶈兘璁粌鎴栬€呴娴嬬伆搴﹀浘鐨勬儏鍐碉紝鍙互灏濊瘯涓€涓嬪湪get_random_data閲岄潰灏咺mage.open鍚庣殑缁撴灉杞崲鎴怰GB锛岄娴嬬殑鏃跺€欎篃杩欐牱璇曡瘯銆傦紙浠呬緵鍙傝€冿級**

### e銆佹柇鐐圭画缁冮棶棰�
**闂細鎴戝凡缁忚缁冭繃鍑犱釜涓栦唬浜嗭紝鑳戒笉鑳戒粠杩欎釜鍩虹涓婄户缁紑濮嬭缁�
绛旓細鍙互锛屼綘鍦ㄨ缁冨墠锛屽拰杞藉叆棰勮缁冩潈閲嶄竴鏍疯浇鍏ヨ缁冭繃鐨勬潈閲嶅氨琛屼簡銆備竴鑸缁冨ソ鐨勬潈閲嶄細淇濆瓨鍦╨ogs鏂囦欢澶归噷闈紝灏唌odel_path淇敼鎴愪綘瑕佸紑濮嬬殑鏉冨€肩殑璺緞鍗冲彲銆�**

### f銆侀璁粌鏉冮噸鐨勯棶棰�

**闂細濡傛灉鎴戣璁粌鍏跺畠鐨勬暟鎹泦锛岄璁粌鏉冮噸瑕佹€庝箞鍔炲晩锛�**
**绛旓細鏁版嵁鐨勯璁粌鏉冮噸瀵逛笉鍚屾暟鎹泦鏄€氱敤鐨勶紝鍥犱负鐗瑰緛鏄€氱敤鐨勶紝棰勮缁冩潈閲嶅浜�99%鐨勬儏鍐甸兘蹇呴』瑕佺敤锛屼笉鐢ㄧ殑璇濇潈鍊煎お杩囬殢鏈猴紝鐗瑰緛鎻愬彇鏁堟灉涓嶆槑鏄撅紝缃戠粶璁粌鐨勭粨鏋滀篃涓嶄細濂姐€�**

**闂細up锛屾垜淇敼浜嗙綉缁滐紝棰勮缁冩潈閲嶈繕鑳界敤鍚楋紵
绛旓細淇敼浜嗕富骞茬殑璇濓紝濡傛灉涓嶆槸鐢ㄧ殑鐜版湁鐨勭綉缁滐紝鍩烘湰涓婇璁粌鏉冮噸鏄笉鑳界敤鐨勶紝瑕佷箞灏辫嚜宸卞垽鏂潈鍊奸噷鍗风Н鏍哥殑shape鐒跺悗鑷繁鍖归厤锛岃涔堝彧鑳借嚜宸遍璁粌鍘讳簡锛涗慨鏀逛簡鍚庡崐閮ㄥ垎鐨勮瘽锛屽墠鍗婇儴鍒嗙殑涓诲共閮ㄥ垎鐨勯璁粌鏉冮噸杩樻槸鍙互鐢ㄧ殑锛屽鏋滄槸pytorch浠ｇ爜鐨勮瘽锛岄渶瑕佽嚜宸变慨鏀逛竴涓嬭浇鍏ユ潈鍊肩殑鏂瑰紡锛屽垽鏂璼hape鍚庤浇鍏ワ紝濡傛灉鏄痥eras浠ｇ爜锛岀洿鎺y_name=True,skip_mismatch=True鍗冲彲銆�**
鏉冨€煎尮閰嶇殑鏂瑰紡鍙互鍙傝€冨涓嬶細

```python
# 鍔犲揩妯″瀷璁粌鐨勬晥鐜�
print('Loading weights into state dict...')
device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
model_dict = model.state_dict()
pretrained_dict = torch.load(model_path, map_location=device)
a = {}
for k, v in pretrained_dict.items():
    try:    
        if np.shape(model_dict[k]) ==  np.shape(v):
            a[k]=v
    except:
        pass
model_dict.update(a)
model.load_state_dict(model_dict)
print('Finished!')
```

**闂細鎴戣鎬庝箞涓嶄娇鐢ㄩ璁粌鏉冮噸鍟婏紵
绛旓細鎶婅浇鍏ラ璁粌鏉冮噸鐨勪唬鐮佹敞閲婁簡灏辫銆�**

**闂細涓轰粈涔堟垜涓嶄娇鐢ㄩ璁粌鏉冮噸鏁堟灉杩欎箞宸晩锛�
绛旓細鍥犱负闅忔満鍒濆鍖栫殑鏉冨€间笉濂斤紝鎻愬彇鐨勭壒寰佷笉濂斤紝涔熷氨瀵艰嚧浜嗘ā鍨嬭缁冪殑鏁堟灉涓嶅ソ锛岄璁粌鏉冮噸杩樻槸闈炲父閲嶈鐨勩€�**

### g銆佽棰戞娴嬮棶棰樹笌鎽勫儚澶存娴嬮棶棰�
**闂細鎬庝箞鐢ㄦ憚鍍忓ご妫€娴嬪憖锛�
绛旓細predict.py淇敼鍙傛暟鍙互杩涜鎽勫儚澶存娴嬶紝涔熸湁瑙嗛璇︾粏瑙ｉ噴浜嗘憚鍍忓ご妫€娴嬬殑鎬濊矾銆�**

**闂細鎬庝箞鐢ㄨ棰戞娴嬪憖锛�
绛旓細鍚屼笂**

### h銆佷粠0寮€濮嬭缁冮棶棰�
**闂細鎬庝箞鍦ㄦā鍨嬩笂浠�0寮€濮嬭缁冿紵
绛旓細鍦ㄧ畻鍔涗笉瓒充笌璋冨弬鑳藉姏涓嶈冻鐨勬儏鍐典笅浠�0寮€濮嬭缁冩鏃犳剰涔夈€傛ā鍨嬬壒寰佹彁鍙栬兘鍔涘湪闅忔満鍒濆鍖栧弬鏁扮殑鎯呭喌涓嬮潪甯稿樊銆傛病鏈夊ソ鐨勫弬鏁拌皟鑺傝兘鍔涘拰绠楀姏锛屾棤娉曚娇寰楃綉缁滄甯告敹鏁涖€�**
濡傛灉涓€瀹氳浠�0寮€濮嬶紝閭ｄ箞璁粌鐨勬椂鍊欒娉ㄦ剰鍑犵偣锛�
 - 涓嶈浇鍏ラ璁粌鏉冮噸銆�
 - 涓嶈杩涜鍐荤粨璁粌锛屾敞閲婂喕缁撴ā鍨嬬殑浠ｇ爜銆�

**闂細涓轰粈涔堟垜涓嶄娇鐢ㄩ璁粌鏉冮噸鏁堟灉杩欎箞宸晩锛�
绛旓細鍥犱负闅忔満鍒濆鍖栫殑鏉冨€间笉濂斤紝鎻愬彇鐨勭壒寰佷笉濂斤紝涔熷氨瀵艰嚧浜嗘ā鍨嬭缁冪殑鏁堟灉涓嶅ソ锛岄璁粌鏉冮噸杩樻槸闈炲父閲嶈鐨勩€�**

### i銆佷繚瀛橀棶棰�
**闂細妫€娴嬪畬鐨勫浘鐗囨€庝箞淇濆瓨锛�
绛旓細涓€鑸洰鏍囨娴嬬敤鐨勬槸Image锛屾墍浠ユ煡璇竴涓婸IL搴撶殑Image濡備綍杩涜淇濆瓨銆傝缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

**闂細鎬庝箞鐢ㄨ棰戜繚瀛樺憖锛�
绛旓細璇︾粏鐪嬬湅predict.py鏂囦欢鐨勬敞閲娿€�**

### j銆侀亶鍘嗛棶棰�
**闂細濡備綍瀵逛竴涓枃浠跺す鐨勫浘鐗囪繘琛岄亶鍘嗭紵
绛旓細涓€鑸娇鐢╫s.listdir鍏堟壘鍑烘枃浠跺す閲岄潰鐨勬墍鏈夊浘鐗囷紝鐒跺悗鏍规嵁predict.py鏂囦欢閲岄潰鐨勬墽琛屾€濊矾妫€娴嬪浘鐗囧氨琛屼簡锛岃缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

**闂細濡備綍瀵逛竴涓枃浠跺す鐨勫浘鐗囪繘琛岄亶鍘嗭紵骞朵笖淇濆瓨銆�
绛旓細閬嶅巻鐨勮瘽涓€鑸娇鐢╫s.listdir鍏堟壘鍑烘枃浠跺す閲岄潰鐨勬墍鏈夊浘鐗囷紝鐒跺悗鏍规嵁predict.py鏂囦欢閲岄潰鐨勬墽琛屾€濊矾妫€娴嬪浘鐗囧氨琛屼簡銆備繚瀛樼殑璇濅竴鑸洰鏍囨娴嬬敤鐨勬槸Image锛屾墍浠ユ煡璇竴涓婸IL搴撶殑Image濡備綍杩涜淇濆瓨銆傚鏋滄湁浜涘簱鐢ㄧ殑鏄痗v2锛岄偅灏辨槸鏌ヤ竴涓媍v2鎬庝箞淇濆瓨鍥剧墖銆傝缁嗙湅鐪媝redict.py鏂囦欢鐨勬敞閲娿€�**

### k銆佽矾寰勯棶棰橈紙No such file or directory锛�
**闂細鎴戞€庝箞鍑虹幇浜嗚繖鏍风殑閿欒鍛€锛�**
```python
FileNotFoundError: 銆怑rrno 2銆� No such file or directory
鈥︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€�
鈥︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€︹€�
```

**绛旓細鍘绘鏌ヤ竴涓嬫枃浠跺す璺緞锛屾煡鐪嬫槸鍚︽湁瀵瑰簲鏂囦欢锛涘苟涓旀鏌ヤ竴涓�2007_train.txt锛屽叾涓枃浠惰矾寰勬槸鍚︽湁閿欍€�**
鍏充簬璺緞鏈夊嚑涓噸瑕佺殑鐐癸細
**鏂囦欢澶瑰悕绉颁腑涓€瀹氫笉瑕佹湁绌烘牸銆�
娉ㄦ剰鐩稿璺緞鍜岀粷瀵硅矾寰勩€�
澶氱櫨搴﹁矾寰勭浉鍏崇殑鐭ヨ瘑銆�**

**鎵€鏈夌殑璺緞闂鍩烘湰涓婇兘鏄牴鐩綍闂锛屽ソ濂芥煡涓€涓嬬浉瀵圭洰褰曠殑姒傚康锛�**

### l銆丗PS闂锛堟娴嬮€熷害闂锛�
**闂細浣犺繖涓狥PS鍙互鍒拌揪澶氬皯锛屽彲浠ュ埌 XX FPS涔堬紵
绛旓細FPS鍜屾満瀛愮殑閰嶇疆鏈夊叧锛岄厤缃珮灏卞揩锛岄厤缃綆灏辨參銆�**

**闂細涓轰粈涔堣鏂囦腑璇撮€熷害鍙互杈惧埌XX锛屼絾鏄繖閲屽嵈娌℃湁锛�
绛旓細妫€鏌ユ槸鍚︽纭畨瑁呬簡tensorflow-gpu鎴栬€卲ytorch鐨刧pu鐗堟湰锛屽鏋滃凡缁忔纭畨瑁咃紝鍙互鍘诲埄鐢╰ime.time()鐨勬柟娉曟煡鐪媎etect_image閲岄潰锛屽摢涓€娈典唬鐮佽€楁椂鏇撮暱锛堜笉浠呭彧鏈夌綉缁滆€楁椂闀匡紝鍏跺畠澶勭悊閮ㄥ垎涔熶細鑰楁椂锛屽缁樺浘绛夛級銆傛湁浜涜鏂囪繕浼氫娇鐢ㄥbatch杩涜棰勬祴锛屾垜骞舵病鏈夊幓瀹炵幇杩欎釜閮ㄥ垎銆�**

### m銆侀娴嬪浘鐗囦笉鏄剧ず闂
**闂細涓轰粈涔堜綘鐨勪唬鐮佸湪棰勬祴瀹屾垚鍚庝笉鏄剧ず鍥剧墖锛熷彧鏄湪鍛戒护琛屽憡璇夋垜鏈変粈涔堢洰鏍囥€�
绛旓細缁欑郴缁熷畨瑁呬竴涓浘鐗囨煡鐪嬪櫒灏辫浜嗐€�**

### n銆佺畻娉曡瘎浠烽棶棰橈紙miou锛�
**闂細鎬庝箞璁＄畻miou锛�
绛旓細鍙傝€冭棰戦噷鐨刴iou娴嬮噺閮ㄥ垎銆�**

**闂細鎬庝箞璁＄畻Recall銆丳recision鎸囨爣銆�
绛旓細鐜版湁鐨勪唬鐮佽繕鏃犳硶鑾峰緱锛岄渶瑕佸悇浣嶅悓瀛︾悊瑙ｄ竴涓嬫贩娣嗙煩闃电殑姒傚康锛岀劧鍚庤嚜琛岃绠椾竴涓嬨€�**

### o銆佹ā鍨嬩紭鍖栵紙妯″瀷淇敼锛夐棶棰�
**闂細up锛屾垜淇敼浜嗙綉缁滐紝棰勮缁冩潈閲嶈繕鑳界敤鍚楋紵
绛旓細淇敼浜嗕富骞茬殑璇濓紝濡傛灉涓嶆槸鐢ㄧ殑鐜版湁鐨勭綉缁滐紝鍩烘湰涓婇璁粌鏉冮噸鏄笉鑳界敤鐨勶紝瑕佷箞灏辫嚜宸卞垽鏂潈鍊奸噷鍗风Н鏍哥殑shape鐒跺悗鑷繁鍖归厤锛岃涔堝彧鑳借嚜宸遍璁粌鍘讳簡锛涗慨鏀逛簡鍚庡崐閮ㄥ垎鐨勮瘽锛屽墠鍗婇儴鍒嗙殑涓诲共閮ㄥ垎鐨勯璁粌鏉冮噸杩樻槸鍙互鐢ㄧ殑锛屽鏋滄槸pytorch浠ｇ爜鐨勮瘽锛岄渶瑕佽嚜宸变慨鏀逛竴涓嬭浇鍏ユ潈鍊肩殑鏂瑰紡锛屽垽鏂璼hape鍚庤浇鍏ワ紝濡傛灉鏄痥eras浠ｇ爜锛岀洿鎺y_name=True,skip_mismatch=True鍗冲彲銆�**
鏉冨€煎尮閰嶇殑鏂瑰紡鍙互鍙傝€冨涓嬶細

```python
# 鍔犲揩妯″瀷璁粌鐨勬晥鐜�
print('Loading weights into state dict...')
device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
model_dict = model.state_dict()
pretrained_dict = torch.load(model_path, map_location=device)
a = {}
for k, v in pretrained_dict.items():
    try:    
        if np.shape(model_dict[k]) ==  np.shape(v):
            a[k]=v
    except:
        pass
model_dict.update(a)
model.load_state_dict(model_dict)
print('Finished!')
```



**闂細up锛屾€庝箞淇敼妯″瀷鍟婏紝鎴戞兂鍙戜釜灏忚鏂囷紒
绛旓細寤鸿鐪嬬湅鐩爣妫€娴嬩腑yolov4鐨勮鏂囷紝浣滀负涓€涓ぇ鍨嬭皟鍙傜幇鍦洪潪甯告湁鍙傝€冩剰涔夛紝浣跨敤浜嗗緢澶歵ricks銆傛垜鑳界粰鐨勫缓璁氨鏄鐪嬩竴浜涚粡鍏告ā鍨嬶紝鐒跺悗鎷嗚В閲岄潰鐨勪寒鐐圭粨鏋勫苟浣跨敤銆傚父鐢ㄧ殑tricks濡傛敞鎰忓姏鏈哄埗浠€涔堢殑锛屽彲浠ヨ瘯璇曘€�**

### p銆侀儴缃查棶棰�
鎴戞病鏈夊叿浣撻儴缃插埌鎵嬫満绛夎澶囦笂杩囷紝鎵€浠ュ緢澶氶儴缃查棶棰樻垜骞朵笉浜嗚В鈥︹€�

## 5銆佷氦娴佺兢闂
**闂細up锛屾湁娌℃湁QQ缇ゅ暐鐨勫憿锛�
绛旓細娌℃湁娌℃湁锛屾垜娌℃湁鏃堕棿绠＄悊QQ缇も€︹€�**

## 6銆佹€庝箞瀛︿範鐨勯棶棰�
**闂細up锛屼綘鐨勫涔犺矾绾挎€庝箞鏍风殑锛熸垜鏄釜灏忕櫧鎴戣鎬庝箞瀛︼紵
绛旓細杩欓噷鏈夊嚑鐐归渶瑕佹敞鎰忓搱
1銆佹垜涓嶆槸楂樻墜锛屽緢澶氫笢瑗挎垜涔熶笉浼氾紝鎴戠殑瀛︿範璺嚎涔熶笉涓€瀹氶€傜敤鎵€鏈変汉銆�
2銆佹垜瀹為獙瀹や笉鍋氭繁搴﹀涔狅紝鎵€浠ユ垜寰堝涓滆タ閮芥槸鑷锛岃嚜宸辨懜绱紝姝ｇ‘涓庡惁鎴戜篃涓嶇煡閬撱€�
3銆佹垜涓汉瑙夊緱瀛︿範鏇撮潬鑷**
瀛︿範璺嚎鐨勮瘽锛屾垜鏄厛瀛︿範浜嗚帿鐑︾殑python鏁欑▼锛屼粠tensorflow銆乲eras銆乸ytorch鍏ラ棬锛屽叆闂ㄥ畬涔嬪悗瀛︾殑SSD锛孻OLO锛岀劧鍚庝簡瑙ｄ簡寰堝缁忓吀鐨勫嵎绉綉锛屽悗闈㈠氨寮€濮嬪寰堝涓嶅悓鐨勪唬鐮佷簡锛屾垜鐨勫涔犳柟娉曞氨鏄竴琛屼竴琛岀殑鐪嬶紝浜嗚В鏁翠釜浠ｇ爜鐨勬墽琛屾祦绋嬶紝鐗瑰緛灞傜殑shape鍙樺寲绛夛紝鑺变簡寰堝鏃堕棿涔熸病鏈変粈涔堟嵎寰勶紝灏辨槸瑕佽姳鏃堕棿鍚с€�